(()=>{"use strict";let e=1;let t=1;const o=[],c=e=>{const c=(e=>{let o=[];const c=t;return console.log(`PROJECT: [${e}] created. ID: ${c}`),t++,{getID:()=>c,getTasklist:()=>o,getProjectName:()=>e,setProjectName:t=>{console.log(`PROJECT: [${e}] changed to [${t}]`),e=t},addItem:t=>{o.push(t),console.log(`${e.toUpperCase()}: Added [${t.getTitle()}]`)},removeItem:t=>{o=o.filter((e=>e.getID()!=t.getID())),console.log(`${e.toUpperCase()}: removed [${t.getTitle()}].`)}}})(e);o.push(c)};c("General");const n=()=>o,r=c,l=t=>{t.preventDefault();const c=todoTitle.value,n=todoDescription.value,r=todoDue.value,l=todoPrio.value,d=o.find((e=>e.getProjectName()==todoProject.value)),s=((t,o,c,n)=>{const r=e;return console.log(`TODO: [${t}] created. ID: ${r}`),e++,{getID:()=>r,getTitle:()=>t,getDesc:()=>o,getDueDate:()=>c,getPrio:()=>n,setTitle:e=>t=e,setDesc:e=>o=e,setDueDate:e=>c=e,setPrio:e=>n=e}})(c,n,r,l);d.addItem(s)};function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const s=()=>{d(document.querySelector(".tasksUL"));const e=document.querySelector(".tasksUL");(()=>{const e=[];return o.forEach((t=>{t.getTasklist().forEach((t=>{e.push(t)}))})),e})().forEach((t=>{const o=document.createElement("li"),c=document.createElement("h4"),n=document.createElement("p"),r=document.createElement("p");o.setAttribute("data-id",t.getID()),o.classList.add("taskItem"),c.classList.add("task-title"),n.classList.add("task-description"),r.classList.add("task-due"),c.textContent=t.getTitle(),n.textContent=t.getDesc(),r.textContent=t.getDueDate(),o.append(c,n,r),e.append(o),console.log(t)}))},a=()=>{d(v)},u=document.querySelector("#AddTaskBtn"),i=document.querySelector("#newTodo"),m=document.querySelector("#todoCloseBtn"),p=document.querySelector("#todoCancelBtn"),D=document.querySelector("#todoDialog"),g=document.querySelector("#todoForm"),v=document.querySelector("#todoProject"),E=document.querySelector("#generalBtn"),y=document.querySelector("#todayBtn"),S=document.querySelector("#weekBtn"),q=document.querySelector("#AddProjectBtn"),L=document.querySelector("#projectSubmitBtn"),k=document.querySelector("#projectCloseBtn"),j=document.querySelector("#projectCancelBtn"),f=document.querySelector("#projectDialog"),h=document.querySelector("#projectForm");u.addEventListener("click",(e=>{D.showModal(),(()=>{const e=n();document.querySelector("#todoDue").valueAsDate=new Date,e.forEach((e=>{const t=e.getProjectName();v.innerHTML+=`\n        <option value="${t}">${t}</option>\n        `}))})()})),i.addEventListener("click",(e=>{e.preventDefault(),l(e),D.close(),a(),g.reset(),s()})),m.addEventListener("click",(e=>{e.preventDefault(),a(),D.close()})),p.addEventListener("click",(e=>{e.preventDefault(),a(),g.reset(),D.close()})),q.addEventListener("click",(e=>{f.showModal(),document.querySelector("#projectDue").valueAsDate=new Date})),L.addEventListener("click",(e=>{e.preventDefault();const t=projectName.value;r(t),h.reset(),f.close(),(()=>{d(document.querySelector(".projectsUL"));const e=n(),t=document.querySelector(".projectsUL");e.forEach((e=>{const o=document.createElement("li"),c=document.createElement("h3");o.classList.add("project-item"),o.setAttribute("data-id",e.getID()),c.classList.add("project-name"),c.textContent=e.getProjectName(),o.append(c),t.append(o)}))})()})),k.addEventListener("click",(e=>{e.preventDefault(),f.close()})),j.addEventListener("click",(e=>{e.preventDefault(),f.close(),h.reset()})),E.addEventListener("click",(e=>{s()})),y.addEventListener("click",(e=>{})),S.addEventListener("click",(e=>{}))})();