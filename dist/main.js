(()=>{"use strict";let e=1;let t=1;const o=[],c=e=>{const c=(e=>{let o=[];const c=t;return console.log(`PROJECT: [${e}] created. ID: ${c}`),t++,{getID:()=>c,getTasklist:()=>o,getProjectName:()=>e,setProjectName:t=>{console.log(`PROJECT: [${e}] changed to [${t}]`),e=t},addItem:t=>{o.push(t),console.log(`${e.toUpperCase()}: Added [${t.getTitle()}]`)},removeItem:t=>{o=o.filter((e=>e.getID()!=t.getID())),console.log(`${e.toUpperCase()}: removed [${t.getTitle()}].`)}}})(e);o.push(c)};c("General"),c("Office");const n=c,r=t=>{t.preventDefault();const c=todoTitle.value,n=todoDescription.value,r=todoDue.value,l=todoPrio.value,d=o.find((e=>e.getProjectName()==todoProject.value)),s=((t,o,c,n)=>{const r=e;return console.log(`TODO: [${t}] created. ID: ${r}`),e++,{getID:()=>r,getTitle:()=>t,getDesc:()=>o,getDueDate:()=>c,getPrio:()=>n,setTitle:e=>t=e,setDesc:e=>o=e,setDueDate:e=>c=e,setPrio:e=>n=e}})(c,n,r,l);d.addItem(s)};function l(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const d=()=>{l(document.querySelector(".tasksUL"));const e=document.querySelector(".tasksUL");(()=>{const e=[];return o.forEach((t=>{t.getTasklist().forEach((t=>{e.push(t)}))})),e})().forEach((t=>{const o=document.createElement("li"),c=document.createElement("h4"),n=document.createElement("p"),r=document.createElement("p");o.setAttribute("data-id",t.getID()),o.classList.add("taskItem"),c.classList.add("task-title"),n.classList.add("task-description"),r.classList.add("task-due"),c.textContent=t.getTitle(),n.textContent=t.getDesc(),r.textContent=t.getDueDate(),o.append(c,n,r),e.append(o),console.log(t)}))},s=()=>{l(g)},a=document.querySelector("#AddTaskBtn"),u=document.querySelector("#newTodo"),i=document.querySelector("#todoCloseBtn"),m=document.querySelector("#todoCancelBtn"),D=document.querySelector("#todoDialog"),p=document.querySelector("#todoForm"),g=document.querySelector("#todoProject"),v=document.querySelector("#generalBtn"),y=(document.querySelector("#todayBtn"),document.querySelector("#weekBtn"),document.querySelector("#AddProjectBtn")),S=document.querySelector("#projectSubmitBtn"),q=document.querySelector("#projectCloseBtn"),f=document.querySelector("#projectCancelBtn"),k=document.querySelector("#projectDialog"),E=document.querySelector("#projectForm");a.addEventListener("click",(e=>{D.showModal(),(()=>{const e=o;document.querySelector("#todoDue").valueAsDate=new Date,e.forEach((e=>{const t=e.getProjectName();g.innerHTML+=`\n        <option value="${t}">${t}</option>\n        `}))})()})),u.addEventListener("click",(e=>{e.preventDefault(),r(e),D.close(),s(),p.reset(),d()})),i.addEventListener("click",(e=>{e.preventDefault(),s(),D.close()})),m.addEventListener("click",(e=>{e.preventDefault(),s(),p.reset(),D.close()})),y.addEventListener("click",(e=>{k.showModal(),document.querySelector("#projectDue").valueAsDate=new Date})),S.addEventListener("click",(e=>{e.preventDefault();const t=projectName.value;n(t),E.reset(),k.close()})),q.addEventListener("click",(e=>{e.preventDefault(),k.close()})),f.addEventListener("click",(e=>{e.preventDefault(),k.close(),E.reset()})),v.addEventListener("click",(e=>{d()}))})();